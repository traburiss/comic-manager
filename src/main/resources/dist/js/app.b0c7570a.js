(function(e){function t(t){for(var r,s,l=t[0],i=t[1],c=t[2],m=0,p=[];m<l.length;m++)s=l[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03db":function(e,t,n){"use strict";var r=n("1078"),o=n.n(r);o.a},1078:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f771");var r,o=n("2b0e"),a=n("5c96"),s=n.n(a),l=(n("e05f"),n("0fae"),n("8c4f")),i=n("2b27"),c=n.n(i),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"container"},[n("el-header",{staticClass:"header",attrs:{height:"30px"}},[n("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal",router:!0}},[n("el-submenu",{attrs:{index:"myself","show-timeout":100,"hide-timeout":100}},[n("template",{slot:"title"},[e._v("我")]),n("el-menu-item",{attrs:{index:"me"}},[e._v("我")]),n("el-menu-item",{staticClass:"logout",on:{click:e.logout}},[e._v("登出")])],2),n("el-submenu",{attrs:{index:"manager","show-timeout":100,"hide-timeout":100}},[n("template",{slot:"title"},[e._v("管理")]),n("el-menu-item",{attrs:{index:"user"}},[e._v("用户")]),n("el-menu-item",{attrs:{index:"role"}},[e._v("角色")]),n("el-menu-item",{attrs:{index:"config"}},[e._v("配置")])],2),n("el-menu-item",{attrs:{index:"library"}},[e._v("书库")]),n("el-menu-item",{attrs:{index:"series"}},[e._v("系列")]),n("el-menu-item",{attrs:{index:"comic"}},[e._v("漫画")]),n("el-menu-item",{attrs:{index:"search"}},[e._v("搜索")])],1)],1),n("el-main",{staticClass:"main"},[n("router-view")],1)],1)},m=[],p=(n("ac1f"),n("5319"),n("bc3a")),f=n.n(p),h={start:function(e){r=a["Loading"].service({text:e,lock:!0})},stop:function(){r.close()}},d={token:"token"};f.a.defaults.baseURL="/api";var g={post:function(e,t,n,r){return f()({method:"post",url:e,data:t}).then((function(e){try{var t=e.data;200===t.code?n(t):void 0!==r?r(t):a["Message"].error(t.msg)}catch(o){console.error(o),a["Message"].error("未知错误，请稍后重试")}})).catch((function(e){try{401===e.response.status?(h.stop(),Qe.app.$cookies.remove(d.token,"/"),a["Message"].error("你还未登陆，请先登陆"),Qe.app.$router.push("/login")):void 0!==e.response.data&&null!==e.response.data?void 0!==r?r(e.response.data):a["Message"].error(e.response.data.msg):void 0!==r?r({code:e.response.status,msg:e.response.statusText}):a["Message"].error(e.response.statusText)}catch(t){console.error(t),void 0!==r?r("未知错误，请稍后重试"):a["Message"].error("未知错误，请稍后重试")}}))}},v={login:b,logout:_};function b(e,t,n){return g.post("/user/login",{loginName:e,passWord:t},n)}function _(e,t){return g.post("/user/logout",{},e,t)}var x={name:"Home",data:function(){return{activeIndex:"search"}},methods:{logout:function(){var e=this;this.$confirm("请再考虑一下下","登出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",showClose:!1,confirmButtonClass:"el-button--danger"}).then((function(){h.start("正在登出"),v.logout((function(){e.logoutFinish()}),(function(){h.stop(),e.$message({type:"warn",message:"登出失败"})}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))},logoutFinish:function(){h.stop(),this.$cookies.remove(d.token,"/"),this.$router.push("/login"),this.$message({message:"已登出!"})}},mounted:function(){console.info(this.$route.path),this.activeIndex=this.$route.path.replace("/home/","")}},$=x,y=(n("03db"),n("2877")),w=Object(y["a"])($,u,m,!1,null,null,null),O=w.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"container"},[n("el-main",{staticClass:"main"},[n("el-row",{staticClass:"main-row"},[n("el-col",{staticClass:"title-col",attrs:{xs:24,sm:24,md:16,lg:16,xl:16}},[e._v(" "+e._s(e.msg)+" ")]),n("el-col",{staticClass:"from-col",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[n("el-form",{ref:"from",staticClass:"login-from",attrs:{model:e.login}},[n("el-form-item",{staticClass:"from-label"},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.login.userName,callback:function(t){e.$set(e.login,"userName",t)},expression:"login.userName"}})],1),n("el-form-item",{staticClass:"from-label"},[n("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.login.passWord,callback:function(t){e.$set(e.login,"passWord",t)},expression:"login.passWord"}})],1),n("el-form-item",{staticClass:"from-label"},[n("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登陆")])],1)],1)],1),n("el-col",{staticClass:"picture-col hidden-sm-and-down",attrs:{h:"",md:24,lg:24,xl:24}})],1)],1)],1)},C=[],k=n("6c27"),M=n.n(k),E={name:"Login",props:{msg:String},data:function(){return{login:{userName:"",passWord:""}}},methods:{onSubmit:function(){var e=this;this.$message.info("正在登陆"),v.login(this.login.userName,M.a.sha256(this.login.passWord),(function(){e.$message.success("登陆成功"),e.$router.push("/home")}))}}},S=E,P=(n("5eb8"),Object(y["a"])(S,j,C,!1,null,"4bad3bc3",null)),T=P.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("404")])},W=[],L={name:"Error"},R=L,B=Object(y["a"])(R,N,W,!1,null,null,null),I=B.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("this is search")])},J=[],U={name:"Search"},z=U,A=Object(y["a"])(z,F,J,!1,null,"65448a8c",null),H=A.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("comic manager")])},D=[],G={name:"ComicManager"},K=G,Q=Object(y["a"])(K,q,D,!1,null,"a88420b2",null),V=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("series manager")])},Y=[],Z={name:"SeriesManager"},ee=Z,te=Object(y["a"])(ee,X,Y,!1,null,"bef2525a",null),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("因吹斯听(划掉) library")])},oe=[],ae={name:"Library"},se=ae,le=Object(y["a"])(se,re,oe,!1,null,"fe24ba44",null),ie=le.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("user manager")])},ue=[],me={name:"UserManeger"},pe=me,fe=Object(y["a"])(pe,ce,ue,!1,null,"1366cc0e",null),he=fe.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("Role")])},ge=[],ve={name:"RoleManager"},be=ve,_e=Object(y["a"])(be,de,ge,!1,null,"d7c445d8",null),xe=_e.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("config manager")])},ye=[],we={name:"ComicManager"},Oe=we,je=Object(y["a"])(Oe,$e,ye,!1,null,"de234eb4",null),Ce=je.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("this me")])},Me=[],Ee={name:"Me"},Se=Ee,Pe=Object(y["a"])(Se,ke,Me,!1,null,"28283fd6",null),Te=Pe.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("Comic reader")])},We=[],Le={name:"ComicRead"},Re=Le,Be=Object(y["a"])(Re,Ne,We,!1,null,"55213070",null),Ie=Be.exports,Fe={routers:[{path:"",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/home",component:O,children:[{path:"",redirect:"search"},{path:"search",component:H},{path:"comic",component:V},{path:"series",component:ne},{path:"library",component:ie},{path:"user",component:he},{path:"role",component:xe},{path:"config",component:Ce},{path:"me",component:Te}]},{path:"/comic/reader",component:Ie},{path:"/login",component:T},{path:"/404",component:I},{path:"/*",redirect:"/404"}]},Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},Ue=[],ze={name:"App"},Ae=ze,He=Object(y["a"])(Ae,Je,Ue,!1,null,null,null),qe=He.exports;o["default"].config.productionTip=!1,o["default"].use(s.a),o["default"].use(l["a"]),o["default"].use(c.a);var De=new l["a"]({mode:"history",base:"/",routes:Fe.routers}),Ge=new o["default"]({render:function(e){return e(qe)},router:De}).$mount("#app");function Ke(){return null!==Ge.$cookies.get(d.token)}De.beforeEach((function(e,t,n){Ke()||"/login"===e.path?n():(Ge.$message.error("您还没有登陆，请重新登陆"),n("/login"))}));var Qe=t["default"]={app:Ge}},"5eb8":function(e,t,n){"use strict";var r=n("6a88"),o=n.n(r);o.a},"6a88":function(e,t,n){},f771:function(e,t,n){}});
//# sourceMappingURL=app.b0c7570a.js.map